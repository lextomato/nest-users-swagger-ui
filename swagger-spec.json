{"openapi":"3.0.0","paths":{"/auth/checksession":{"post":{"operationId":"AuthController_checksession","summary":"Chequear sesion valida por token","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestTokenDto"}}}},"responses":{"200":{"description":"Sesion valida.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseCheckSessionDto"}}}},"409":{"description":"Sesion invalida.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTokenConflictDto"}}}}},"tags":["Auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","summary":"Inicio de sesion de usuario","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestLoginDto"}}}},"responses":{"200":{"description":"Login exitoso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseLoginDto"}}}},"409":{"description":"Login fallido.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseLoginConflictDto"}}}}},"tags":["Auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logout","summary":"Cierre de sesion de usuario","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestTokenDto"}}}},"responses":{"200":{"description":"Logout exitoso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseLogoutDto"}}}},"409":{"description":"Logout fallido.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTokenConflictDto"}}}}},"tags":["Auth"]}},"/auth/change-password/{userUuid}":{"put":{"operationId":"AuthController_changePassword","summary":"Cambiar contraseña de un usuario","parameters":[{"name":"userUuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestChangePasswordDto"}}}},"responses":{"200":{"description":"Contraseña actualizada exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAuthUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","summary":"Olvido de contraseña","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestForgotPasswordDto"}}}},"responses":{"200":{"description":"Correo de recuperacion de contraseña enviado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseForgotPasswordDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}},"500":{"description":"Error interno del servidor.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseInternalErrorDto"}}}}},"tags":["Auth"]}},"/auth/reset-password/{token}":{"post":{"operationId":"AuthController_resetPassword","summary":"Reseteo de contraseña","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestChangePasswordDto"}}}},"responses":{"200":{"description":"Contraseña actualizada exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseForgotPasswordDto"}}}},"400":{"description":"Token expirado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTokenBadRequestDto"}}}},"409":{"description":"Token invalido.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTokenConflictDto"}}}}},"tags":["Auth"]}},"/permissions":{"post":{"operationId":"PermissionsController_create","summary":"Crear un permiso nuevo","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePermissionDto"}}}},"responses":{"200":{"description":"Permiso creado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Creacion de permiso fallido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseCreateRoleConflictDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]},"get":{"operationId":"PermissionsController_findAll","summary":"Obtener todos los permisos","parameters":[],"responses":{"200":{"description":"Permisos obtenidos exitosamente.","content":{"application/json":{"schema":{"example":[{"permissionId":1,"controller":"UsersController","action":"findAll","path":"/users","active":true},{"permissionId":2,"controller":"UsersController","action":"create","path":"/users","active":true}]}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]}},"/permissions/group-by-controller":{"get":{"operationId":"PermissionsController_findAllGroupByController","summary":"Obtener todos los permisos agrupados por controlador","parameters":[],"responses":{"200":{"description":"Permisos agrupados obtenidos exitosamente.","content":{"application/json":{"schema":{"example":[{"controller":"UsersController","actions":[{"permissionId":1,"action":"findAll","path":"/users","active":true,"roles":[{"roleId":1,"name":"usuario","active":true},{"roleId":2,"name":"admin","active":true}]},{"permissionId":2,"action":"update","path":"/users/{userUuid}","active":true,"roles":[{"roleId":1,"name":"usuario","active":true},{"roleId":2,"name":"admin","active":true}]}]},{"controller":"RolesController","actions":[{"permissionId":19,"action":"create","path":"/roles","active":true,"roles":[{"roleId":2,"name":"admin","active":true}]}]}]}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]}},"/permissions/{permissionId}":{"get":{"operationId":"PermissionsController_findOne","summary":"Obtener un permiso","parameters":[{"name":"permissionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Permiso obtenido exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Permiso no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionConflictDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]},"put":{"operationId":"PermissionsController_update","summary":"Actualizar un permiso","parameters":[{"name":"permissionId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePermissionDto"}}}},"responses":{"200":{"description":"Permiso actualizado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Permiso no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionConflictDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]},"delete":{"operationId":"PermissionsController_remove","summary":"Deshabiltar un permiso","parameters":[{"name":"permissionId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Permiso deshabilitado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Permiso no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionConflictDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]}},"/permissions/{permissionId}/activate":{"put":{"operationId":"PermissionsController_enable","summary":"Habiltar un permiso","parameters":[{"name":"permissionId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Permiso Habilitado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Permiso no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponsePermissionConflictDto"}}}}},"tags":["Permisos"],"security":[{"bearer":[]}]}},"/role-permissions/controllers-actions":{"get":{"operationId":"RolePermissionsController_findAllControllersAndActions","summary":"Obtener todos los nombres de todos los controladores y sus acciones","parameters":[],"responses":{"200":{"description":"Controladores y acciones obtenidos exitosamente.","content":{"application/json":{"schema":{"example":[{"controller":"AuthController","actions":[{"action":"checksession","path":"/auth/checksession","method":"POST","permissionInUse":true},{"action":"login","path":"/auth/login","method":"POST","permissionInUse":false},{"action":"logout","path":"/auth/logout","method":"POST","permissionInUse":true}]},{"controller":"UsersController","actions":[{"action":"create","path":"/users","method":"POST","permissionInUse":false},{"action":"findAll","path":"/users","method":"GET","permissionInUse":true},{"action":"findOne","path":"/users/:userUuid","method":"GET","permissionInUse":false},{"action":"update","path":"/users/:userUuid","method":"PUT","permissionInUse":false}]}]}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}}},"tags":["Permisos por Rol"],"security":[{"bearer":[]}]}},"/role-permissions":{"get":{"operationId":"RolePermissionsController_findAll","summary":"Obtener todos los permisos por role","parameters":[],"responses":{"200":{"description":"Permisos por rol obtenidos exitosamente.","content":{"application/json":{"schema":{"example":[{"rolePermissionsId":1,"roleId":2,"permissionId":1,"createdAt":"2024-08-26T23:41:35.713Z","updatedAt":"2024-08-26T23:41:35.713Z","active":true,"role":{"roleId":2,"name":"admin"},"permission":{"permissionId":1,"controller":"UsersController","action":"findAll"}},{"rolePermissionsId":3,"roleId":2,"permissionId":2,"createdAt":"2024-08-27T16:08:44.417Z","updatedAt":"2024-08-27T16:08:44.417Z","active":true,"role":{"roleId":2,"name":"admin"},"permission":{"permissionId":2,"controller":"UsersController","action":"findOne"}}]}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}}},"tags":["Permisos por Rol"],"security":[{"bearer":[]}]},"post":{"operationId":"RolePermissionsController_asingRolesToPermission","summary":"Asignar roles a permiso","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRolePermissionsDto"}}}},"responses":{"201":{"description":"Roles asignados correctamente al permiso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolePermissionsAsingDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Asignacion de roles fallido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseCreatePermissionConflictDto"}}}}},"tags":["Permisos por Rol"],"security":[{"bearer":[]}]}},"/users":{"post":{"operationId":"UsersController_create","summary":"Crear usuario nuevo","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"Usuario creado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Creacion de usuario fallida","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseCreateUserConflictDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]},"get":{"operationId":"UsersController_findAll","summary":"Obtener todos los usuarios","parameters":[],"responses":{"200":{"description":"Usuarios obtenidos exitosamente.","content":{"application/json":{"schema":{"example":[{"userUuid":"c7208db5-21bf-4099-a6fb-2eb576bac434","email":"jhojaforce@gmail.com","active":true,"name":"Jose","lastname":"Uzcategui","roleId":1},{"userUuid":"1c54f7ec-8983-4934-ab61-e468dfa0cd3e","email":"lextomato@gmail.com","active":true,"name":"Ruben","lastname":"Torres","roleId":1},{"userUuid":"ad281dcb-6e39-4ac6-ab7b-7e4f96076a33","email":"ejemplo@dominio.com","active":true,"name":"John","lastname":"Torres","roleId":1}]}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]}},"/users/{userUuid}":{"get":{"operationId":"UsersController_findOne","summary":"Obtener un usuario","parameters":[{"name":"userUuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuario obtenido exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]},"put":{"operationId":"UsersController_update","summary":"Actualizar un usuario","parameters":[{"name":"userUuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"Usuario actualizado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_remove","summary":"Deshabiltar un usuario","parameters":[{"name":"userUuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuario deshabilitado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]}},"/users/{userUuid}/role":{"put":{"operationId":"UsersController_updateUserRole","summary":"Actualizar rol de un usuario","parameters":[{"name":"userUuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRoleDto"}}}},"responses":{"200":{"description":"Rol de usuario actualizado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserUpdateDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserBadRequestDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]}},"/users/{userUuid}/activate":{"put":{"operationId":"UsersController_enable","summary":"Habiltar un usuario","parameters":[{"name":"userUuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuario Habilitado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUserConflictDto"}}}}},"tags":["Usuarios"],"security":[{"bearer":[]}]}},"/roles":{"post":{"operationId":"RolesController_create","summary":"Crear un rol nuevo","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"200":{"description":"Rol creado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Creacion de rol fallida","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseCreateRoleConflictDto"}}}}},"tags":["Roles"],"security":[{"bearer":[]}]},"get":{"operationId":"RolesController_findAll","summary":"Obtener todos los roles","parameters":[],"responses":{"200":{"description":"Roles obtenidos exitosamente.","content":{"application/json":{"schema":{"example":[{"roleId":1,"name":"usuario","description":"Usuario comun","active":true},{"roleId":2,"name":"admin","description":"Administrador de sitema","active":true}]}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}}},"tags":["Roles"],"security":[{"bearer":[]}]}},"/roles/{roleId}":{"get":{"operationId":"RolesController_findOne","summary":"Obtener un rol","parameters":[{"name":"roleId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Rol obtenido exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Rol no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleConflictDto"}}}}},"tags":["Roles"],"security":[{"bearer":[]}]},"put":{"operationId":"RolesController_update","summary":"Actualizar un rol","parameters":[{"name":"roleId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleDto"}}}},"responses":{"200":{"description":"Rol actualizado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Rol no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleConflictDto"}}}}},"tags":["Roles"],"security":[{"bearer":[]}]},"delete":{"operationId":"RolesController_remove","summary":"Deshabiltar un rol","parameters":[{"name":"roleId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Rol deshabilitado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Rol no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleConflictDto"}}}}},"tags":["Roles"],"security":[{"bearer":[]}]}},"/roles/{roleId}/activate":{"put":{"operationId":"RolesController_enable","summary":"Habiltar un usuario","parameters":[{"name":"roleId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuario Habilitado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleUpdateDto"}}}},"401":{"description":"No autorizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnathorizedDto"}}}},"409":{"description":"Usuario no encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseRoleConflictDto"}}}}},"tags":["Roles"],"security":[{"bearer":[]}]}}},"info":{"title":"API de Usuarios","description":"API para CRUD y autorizacion de usuarios","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"RequestTokenDto":{"type":"object","properties":{"token":{"type":"string","description":"El token de usuario","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVXVpZCI6ImM3MjA4ZGI1LTIxYmYtNDA5OS1hNmZiLTJlYjU3NmJhYzQzNCIsImlhdCI6MTcyNDE3Mzk1NiwiZXhwIjoxNzI0Nzc4NzU2fQ.rlz5StPURkiirRCkS7jLKIjgj1p9zcWveUT_e-hUDxO"}},"required":["token"]},"ResponseCheckSessionDto":{"type":"object","properties":{"isSessionValid":{"type":"boolean","description":"Es sesion valida?","example":true},"userUuid":{"type":"string","description":"Identificador de usuario","example":"c72dbyy5-21bf-4099-a6fb-2eb576bac434"}},"required":["isSessionValid","userUuid"]},"ResponseTokenConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"Token invalido."}},"required":["status","message"]},"RequestLoginDto":{"type":"object","properties":{"email":{"type":"string","description":"El email de usuario","example":"ejemplo@dominio.com"},"password":{"type":"string","description":"La password de usuario","example":"AQ34Rt80JHp90"}},"required":["email","password"]},"ResponseLoginDto":{"type":"object","properties":{"login":{"type":"boolean","description":"Es login valido?","example":true},"token":{"type":"string","description":"Token de sesion","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVXVpZCI6ImM3MjA4ZGI1LTIxYmYtNDA5OS1hNmZiLTJlYjU3NmJhYzQzNCIsImlhdCI6MTcyNDE3NDE0OCwiZXhwIjoxNzI0Nzc4OTQ4fQ._iQYQTeP0zFmBC5wIeY-ssmqgyInpHIUI1xKwNrV-y0"},"userUuid":{"type":"string","description":"Identificador de usuario","example":"c72dbyy5-21bf-4099-a6fb-2eb576bac434"}},"required":["login","token","userUuid"]},"ResponseLoginConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"Email incorrecto."}},"required":["status","message"]},"ResponseLogoutDto":{"type":"object","properties":{"logout":{"type":"boolean","description":"Es logout valido?","example":true}},"required":["logout"]},"RequestChangePasswordDto":{"type":"object","properties":{"password":{"type":"string","description":"La password de usuario","example":"AQ34Rt80JHp90"}},"required":["password"]},"ResponseUpdateDto":{"type":"object","properties":{"update":{"type":"boolean","description":"Es update valido?","example":true}},"required":["update"]},"ResponseAuthUnathorizedDto":{"type":"object","properties":{"message":{"type":"string","description":"Mensaje del response","example":"Unauthorized"},"statusCode":{"type":"number","description":"Codigo de estatus del response","example":401}},"required":["message","statusCode"]},"ResponseUserConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"No se encuentra usuario."},"userUuid":{"type":"string","description":"Identificador de usuario","example":"c72dbyy5-21bf-4099-a6fb-2eb576bac434"}},"required":["status","message","userUuid"]},"RequestForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","description":"El email de usuario","example":"ejemplo@dominio.com"}},"required":["email"]},"ResponseForgotPasswordDto":{"type":"object","properties":{"result":{"type":"boolean","description":"Se ha enviado correo de recuperacion?","example":true}},"required":["result"]},"ResponseInternalErrorDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"Failed to establish connection to SMTP server"}},"required":["status","message"]},"ResponseTokenBadRequestDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"Token expirado."},"token":{"type":"string","description":"Token de sesion","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVXVpZCI6ImM3MjA4ZGI1LTIxYmYtNDA5OS1hNmZiLTJlYjU3NmJhYzQzNCIsImlhdCI6MTcyNDE3NDE0OCwiZXhwIjoxNzI0Nzc4OTQ4fQ._iQYQTeP0zFmBC5wIeY-ssmqgyInpHIUI1xKwNrV-y0"}},"required":["status","message","token"]},"CreatePermissionDto":{"type":"object","properties":{"controller":{"type":"string","description":"Nombre de controlador del permiso","example":"Users"},"action":{"type":"string","description":"Nombre de la accion del permiso","example":"findAll"},"path":{"type":"string","description":"Path del controlador","example":"/users"}},"required":["controller","action","path"]},"PermissionDto":{"type":"object","properties":{"permissionId":{"type":"number","description":"Identificador de permiso","example":1},"controller":{"type":"string","description":"Nombre de controlador del permiso","example":"Users"},"action":{"type":"string","description":"Nombre de la accion del permiso","example":"findAll"},"path":{"type":"string","description":"Path del controlador","example":"/users"},"active":{"type":"boolean","description":"Permiso habilitado?","example":true}},"required":["permissionId","controller","action","path","active"]},"ResponseUnathorizedDto":{"type":"object","properties":{"message":{"type":"string","description":"Mensaje del response","example":"Unauthorized"},"statusCode":{"type":"number","description":"Codigo de estatus del response","example":401}},"required":["message","statusCode"]},"ResponseCreateRoleConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"El rol ya existe."},"role":{"type":"string","description":"El nombre del rol","example":"usuario"}},"required":["status","message","role"]},"ResponsePermissionConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"No se encuentra el permiso."},"permissionId":{"type":"number","description":"Identificador de permiso","example":1}},"required":["status","message","permissionId"]},"UpdatePermissionDto":{"type":"object","properties":{"controller":{"type":"string","description":"Nombre de controlador del permiso","example":"Users"},"action":{"type":"string","description":"Nombre de la accion del permiso","example":"findAll"},"path":{"type":"string","description":"Path del controlador","example":"/users"}},"required":["controller","action","path"]},"ResponsePermissionUpdateDto":{"type":"object","properties":{"update":{"type":"boolean","description":"Es update valido?","example":true}},"required":["update"]},"CreateRolePermissionsDto":{"type":"object","properties":{"permissionId":{"type":"number","description":"Identificador del permiso","example":1},"roles":{"description":"Lista de Id de roles","example":[1,2,3],"type":"array","items":{"type":"string"}}},"required":["permissionId","roles"]},"RolePermissionsAsingDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"ok"},"message":{"type":"string","description":"Mensaje del response","example":"Permisos asignados correctamente al rol."}},"required":["status","message"]},"ResponseCreatePermissionConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"El permiso ya existe."},"controller":{"type":"string","description":"Nombre de controlador del permiso","example":"Users"},"action":{"type":"string","description":"Nombre de la accion del permiso","example":"findAll"}},"required":["status","message","controller","action"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","description":"El email de usuario","example":"ejemplo@dominio.com"},"password":{"type":"string","description":"La password de usuario","example":"AQ34Rt80JHp90"},"name":{"type":"string","description":"El nombre de usuario","example":"John"},"lastname":{"type":"string","description":"El apellido de usuario","example":"Torres"}},"required":["email","password","name","lastname"]},"UserDto":{"type":"object","properties":{"userUuid":{"type":"string","description":"Identificador de usuario","example":"c72dbyy5-21bf-4099-a6fb-2eb576bac434"},"email":{"type":"string","description":"El email de usuario","example":"ejemplo@dominio.com"},"active":{"type":"boolean","description":"Usuario habilitado?","example":true},"name":{"type":"string","description":"El nombre de usuario","example":"John"},"lastname":{"type":"string","description":"El apellido de usuario","example":"Torres"},"roleId":{"type":"number","description":"Id del rol de usuario","example":1}},"required":["userUuid","email","active","name","lastname","roleId"]},"ResponseCreateUserConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"El email ya existe."},"email":{"type":"string","description":"El email de usuario","example":"ejemplo@dominio.com"}},"required":["status","message","email"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"El nombre de usuario","example":"John"},"lastname":{"type":"string","description":"El apellido de usuario","example":"Torres"}},"required":["name","lastname"]},"ResponseUserUpdateDto":{"type":"object","properties":{"update":{"type":"boolean","description":"Es update valido?","example":true}},"required":["update"]},"UpdateUserRoleDto":{"type":"object","properties":{"roleId":{"type":"number","description":"id de rol de usuario","example":1}},"required":["roleId"]},"ResponseUserBadRequestDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"Rol no existe."},"property":{"type":"string","description":"Propiedad del error","example":"roleId"},"valueProperty":{"type":"object","description":"Valor de la propiedad del error","example":1}},"required":["status","message","property","valueProperty"]},"CreateRoleDto":{"type":"object","properties":{"name":{"type":"string","description":"Nombre de rol","example":"usuario"},"description":{"type":"string","description":"Descripcion de rol","example":"Usuario comun"}},"required":["name","description"]},"RoleDto":{"type":"object","properties":{"roleId":{"type":"number","description":"Identificador de rol","example":1},"name":{"type":"string","description":"Nombre de rol","example":"usuario"},"description":{"type":"string","description":"Descripcion de rol","example":"Usuario comun"},"active":{"type":"boolean","description":"Rol habilitado?","example":true}},"required":["roleId","name","description","active"]},"ResponseRoleConflictDto":{"type":"object","properties":{"status":{"type":"string","description":"Estatus del response","example":"error"},"message":{"type":"string","description":"Mensaje del response","example":"No se encuentra el rol."},"roleId":{"type":"number","description":"Identificador de usuario","example":1}},"required":["status","message","roleId"]},"UpdateRoleDto":{"type":"object","properties":{"name":{"type":"string","description":"El nombre del rol","example":"usuario"},"description":{"type":"string","description":"Descripcion del rol","example":"Usuario comun"}},"required":["name","description"]},"ResponseRoleUpdateDto":{"type":"object","properties":{"update":{"type":"boolean","description":"Es update valido?","example":true}},"required":["update"]}}}}